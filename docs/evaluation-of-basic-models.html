<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Road to Prediction</title>
  <meta name="description" content="Road to Prediction">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Road to Prediction" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="senickel/road_to_prediction" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Road to Prediction" />
  
  
  

<meta name="author" content="Sebastian Nickel">


<meta name="date" content="2018-10-25">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="basic-analysis.html">
<link rel="next" href="open-questionsissues.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script type="text/javascript">

// toggle visibility of R source blocks in R Markdown output
function toggle_R() {
  var x = document.getElementsByClassName('r');
  if (x.length == 0) return;
  function toggle_vis(o) {
    var d = o.style.display;
    o.style.display = (d == 'block' || d == '') ? 'none':'block';
  }

  for (i = 0; i < x.length; i++) {
    var y = x[i];
    if (y.tagName.toLowerCase() === 'pre') toggle_vis(y);
  }

    var elem = document.getElementById("myButton1");
    if (elem.value === "Hide Global") elem.value = "Show Global";
    else elem.value = "Hide Global";
}

document.write('<input onclick="toggle_R();" type="button" value="Hide Global" id="myButton1" style="position: absolute; top: 10%; right: 2%; z-index: 200"></input>')

</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prerequiste</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="extracting-road-data.html"><a href="extracting-road-data.html"><i class="fa fa-check"></i><b>2</b> Extracting road data</a></li>
<li class="chapter" data-level="3" data-path="selecting-landsat-images.html"><a href="selecting-landsat-images.html"><i class="fa fa-check"></i><b>3</b> Selecting Landsat images</a><ul>
<li class="chapter" data-level="3.1" data-path="selecting-landsat-images.html"><a href="selecting-landsat-images.html#locating-the-scenes"><i class="fa fa-check"></i><b>3.1</b> Locating the scenes</a></li>
<li class="chapter" data-level="3.2" data-path="selecting-landsat-images.html"><a href="selecting-landsat-images.html#reducing-the-scenes"><i class="fa fa-check"></i><b>3.2</b> Reducing the scenes</a></li>
<li class="chapter" data-level="3.3" data-path="selecting-landsat-images.html"><a href="selecting-landsat-images.html#bulk-download-scenes"><i class="fa fa-check"></i><b>3.3</b> Bulk download scenes</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="preparation-for-a-basic-analysis.html"><a href="preparation-for-a-basic-analysis.html"><i class="fa fa-check"></i><b>4</b> Preparation for a basic analysis</a></li>
<li class="chapter" data-level="5" data-path="basic-analysis.html"><a href="basic-analysis.html"><i class="fa fa-check"></i><b>5</b> Basic Analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="basic-analysis.html"><a href="basic-analysis.html#ordinary-least-squares"><i class="fa fa-check"></i><b>5.1</b> Ordinary Least Squares</a></li>
<li class="chapter" data-level="5.2" data-path="basic-analysis.html"><a href="basic-analysis.html#logit"><i class="fa fa-check"></i><b>5.2</b> Logit</a></li>
<li class="chapter" data-level="5.3" data-path="basic-analysis.html"><a href="basic-analysis.html#random-forest"><i class="fa fa-check"></i><b>5.3</b> Random Forest</a></li>
<li class="chapter" data-level="5.4" data-path="basic-analysis.html"><a href="basic-analysis.html#xgboost"><i class="fa fa-check"></i><b>5.4</b> XGBoost</a></li>
<li class="chapter" data-level="5.5" data-path="basic-analysis.html"><a href="basic-analysis.html#neural-network"><i class="fa fa-check"></i><b>5.5</b> Neural Network</a></li>
<li class="chapter" data-level="5.6" data-path="basic-analysis.html"><a href="basic-analysis.html#convolutional-neural-network"><i class="fa fa-check"></i><b>5.6</b> Convolutional Neural Network</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="evaluation-of-basic-models.html"><a href="evaluation-of-basic-models.html"><i class="fa fa-check"></i><b>6</b> Evaluation of Basic Models</a></li>
<li class="chapter" data-level="7" data-path="open-questionsissues.html"><a href="open-questionsissues.html"><i class="fa fa-check"></i><b>7</b> Open Questions/Issues</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Road to Prediction</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<!--  <center><img src="logo/normal_3.png" width="300px"></center> -->
<br><br><br><br>
<div id="evaluation-of-basic-models" class="section level1">
<h1><span class="header-section-number">Chapter 6</span> Evaluation of Basic Models</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">all_simulations &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">OLS=</span>generated,<span class="dt">logit=</span>generated_glm,
                      <span class="dt">RandomForest=</span>generated_rf,<span class="dt">XGBoost=</span>generated_xgb,
                      <span class="dt">Keras=</span>generated_keras,<span class="dt">CNN=</span>generated_cnn)</code></pre></div>
<p>Before evaluating, I remove one prediction of the neural network that predicts that all pixels are none road pixels.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">all_simulations_df &lt;-<span class="st"> </span><span class="kw">names</span>(all_simulations) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">lapply</span>(<span class="cf">function</span>(name) {
    dat &lt;-<span class="st"> </span>all_simulations[[name]]
    dat<span class="op">$</span>Method &lt;-<span class="st"> </span>name
    dat <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">      </span><span class="kw">filter</span>(<span class="op">!</span><span class="kw">is.na</span>(Value))
  }) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">do.call</span>(rbind,.) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(Value<span class="op">&gt;</span><span class="dv">0</span><span class="op">&amp;</span>Value<span class="op">&lt;</span><span class="dv">1</span>)

<span class="kw">nrow</span>(all_simulations_df)<span class="op">/</span><span class="dv">2</span></code></pre></div>
<pre><code>## [1] 598</code></pre>
<p>Figure <a href="evaluation-of-basic-models.html#fig:evalmodelsfor1scene">6.1</a> shows the accuracy for six different methods. Most approaches yield similar results with the average accuracy for motorway prediction lying between 68% and 90%. The CNN has a high variety of results which might be due to the fact that the size of the data is a lot smaller than it is for the other 5 methods.<br />
The accuracy of predicting the none motorway pixels is slightly higher and the difference between the methods is more obvious.<br />
Surprisingly, the logit is outperformed by the other non-CNN methods for the prediction of motorways. Also, the OLS performs less well than the neural network, XGBoost, and Random Forest. The neural network has the second highest variability and even has some predictions below 70% for motorways. Random Forest and XGBoost yield the best results, especially when it comes to the “none motorway” prediction were both are consistently above 90%.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">all_simulations_df <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">group_by</span>(Method,Type) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span>dplyr<span class="op">::</span><span class="kw">summarise</span>(<span class="dt">mean=</span><span class="kw">round</span>(<span class="kw">mean</span>(Value),<span class="dv">4</span>)<span class="op">*</span><span class="dv">100</span>) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">spread</span>(Type,mean) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">kable</span>(<span class="dt">caption =</span> <span class="st">&quot;Accuracy for motorway and none motorway pixels for different methods in percent.&quot;</span>)</code></pre></div>
<table>
<caption><span id="tab:evalmodelsfor1scene">Table 6.1: </span>Accuracy for motorway and none motorway pixels for different methods in percent.</caption>
<thead>
<tr class="header">
<th align="left">Method</th>
<th align="right">Motorway</th>
<th align="right">None Motorway</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CNN</td>
<td align="right">67.00</td>
<td align="right">87.34</td>
</tr>
<tr class="even">
<td align="left">Keras</td>
<td align="right">78.08</td>
<td align="right">84.51</td>
</tr>
<tr class="odd">
<td align="left">logit</td>
<td align="right">71.21</td>
<td align="right">89.59</td>
</tr>
<tr class="even">
<td align="left">OLS</td>
<td align="right">78.31</td>
<td align="right">84.15</td>
</tr>
<tr class="odd">
<td align="left">RandomForest</td>
<td align="right">80.44</td>
<td align="right">92.07</td>
</tr>
<tr class="even">
<td align="left">XGBoost</td>
<td align="right">81.67</td>
<td align="right">91.50</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">all_simulations_df <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_violin</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Type,<span class="dt">y=</span>Value,<span class="dt">fill=</span><span class="kw">as_factor</span>(Method))) <span class="op">+</span>
<span class="st">  </span><span class="kw">ylab</span>(<span class="st">&quot;Accuracy&quot;</span>) <span class="op">+</span>
<span class="st">  </span><span class="kw">guides</span>(<span class="dt">fill=</span><span class="kw">guide_legend</span>(<span class="dt">title=</span><span class="st">&quot;Methods&quot;</span>))</code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:evalmodelsfor1scene"></span>
<img src="road_to_prediction_files/figure-html/evalmodelsfor1scene-1.png" alt="Comparison between OLS, Random Forest, XGBoost, and neural network (Keras)." width="672" />
<p class="caption">
Figure 6.1: Comparison between OLS, Random Forest, XGBoost, and neural network (Keras).
</p>
</div>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="basic-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="open-questionsissues.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"sharing": {
"github": true
}
}
});
});
</script>

</body>

</html>
